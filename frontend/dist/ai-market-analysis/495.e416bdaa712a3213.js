"use strict";(self.webpackChunkai_market_analysis=self.webpackChunkai_market_analysis||[]).push([[495],{6495:(_,d,s)=>{s.r(d),s.d(d,{ReportsComponent:()=>k});var l=s(177),e=s(4438),p=s(1626),g=s(3512);function c(n,a){1&n&&(e.j41(0,"div",46),e.nrm(1,"div",47),e.j41(2,"span",48),e.EFF(3,"Loading system metrics..."),e.k0s()())}function u(n,a){if(1&n&&(e.j41(0,"div",49),e.qSk(),e.j41(1,"svg",50),e.nrm(2,"path",51),e.k0s(),e.joV(),e.j41(3,"div",52),e.EFF(4),e.k0s()()),2&n){const r=e.XpG();e.R7$(4),e.JRh(r.error)}}function m(n,a){if(1&n&&(e.j41(0,"div",53)(1,"div",54)(2,"div",55)(3,"h3",56),e.EFF(4,"Total Trades"),e.k0s(),e.j41(5,"div",57),e.qSk(),e.j41(6,"svg",58),e.nrm(7,"path",59),e.k0s()()(),e.joV(),e.j41(8,"p",60),e.EFF(9),e.k0s()(),e.j41(10,"div",61)(11,"div",55)(12,"h3",62),e.EFF(13,"Accuracy Score"),e.k0s(),e.j41(14,"div",63),e.qSk(),e.j41(15,"svg",64),e.nrm(16,"path",65),e.k0s()()(),e.joV(),e.j41(17,"p",60),e.EFF(18,"94.2%"),e.k0s()(),e.j41(19,"div",66)(20,"div",55)(21,"h3",67),e.EFF(22,"Active Agents"),e.k0s(),e.j41(23,"div",68),e.qSk(),e.j41(24,"svg",69),e.nrm(25,"path",70),e.k0s()()(),e.joV(),e.j41(26,"p",60),e.EFF(27),e.k0s()()()),2&n){const r=e.XpG();e.R7$(9),e.JRh((null==r.systemSummary.report_agent?null:r.systemSummary.report_agent.total_trades)||0),e.R7$(18),e.JRh((null==r.systemSummary.report_agent?null:r.systemSummary.report_agent.agents_tracked)||0)}}function h(n,a){1&n&&(e.j41(0,"div",71)(1,"div",72),e.qSk(),e.j41(2,"svg",73),e.nrm(3,"path",74),e.k0s()(),e.joV(),e.j41(4,"p",75),e.EFF(5,"No reports generated yet. Click a button above to generate your first report."),e.k0s()())}function b(n,a){if(1&n){const r=e.RV6();e.j41(0,"div",78)(1,"div",79)(2,"div",80),e.qSk(),e.j41(3,"svg",81),e.nrm(4,"path",82),e.k0s()(),e.joV(),e.j41(5,"div")(6,"h3",83),e.EFF(7),e.nI1(8,"titlecase"),e.k0s(),e.j41(9,"div",84)(10,"span"),e.EFF(11),e.nI1(12,"date"),e.k0s(),e.nrm(13,"span",85),e.j41(14,"span",86),e.EFF(15),e.k0s(),e.nrm(16,"span",85),e.j41(17,"span"),e.EFF(18),e.nI1(19,"number"),e.k0s()()()(),e.j41(20,"div",87)(21,"button",88),e.bIt("click",function(){const t=e.eBV(r).$implicit,o=e.XpG(2);return e.Njj(o.downloadReport(t))}),e.EFF(22," Download "),e.k0s(),e.j41(23,"button",89),e.bIt("click",function(){const t=e.eBV(r).$implicit,o=e.XpG(2);return e.Njj(o.viewReport(t))}),e.EFF(24," View "),e.k0s()()()}if(2&n){const r=a.$implicit;e.R7$(7),e.SpI("",e.bMT(8,4,r.report_type)," Report"),e.R7$(4),e.JRh(e.i5U(12,6,r.generated_at,"medium")),e.R7$(4),e.JRh(r.format),e.R7$(3),e.SpI("",e.bMT(19,9,r.file_size)," bytes")}}function v(n,a){if(1&n&&(e.j41(0,"div",76),e.DNE(1,b,25,11,"div",77),e.k0s()),2&n){const r=e.XpG();e.R7$(),e.Y8G("ngForOf",r.generatedReports)}}function f(n,a){if(1&n&&(e.j41(0,"div",90)(1,"div",91),e.qSk(),e.j41(2,"svg",92),e.nrm(3,"path",93),e.k0s()(),e.joV(),e.j41(4,"h3",94)(5,"span",95),e.EFF(6,"AI Insight:"),e.k0s(),e.EFF(7),e.k0s(),e.j41(8,"div",96)(9,"p",97),e.EFF(10),e.k0s()()()),2&n){const r=e.XpG();e.R7$(7),e.SpI(" ",r.explanationResult.title," "),e.R7$(3),e.JRh(r.explanationResult.detailed_explanation)}}let k=(()=>{class n{constructor(r,i){this.http=r,this.modalService=i,this.loading=!0,this.error=null,this.systemSummary=null,this.generating=!1,this.explaining=!1,this.currentReport=null,this.currentExplanation=null,this.generatedReports=[],this.explanationResult=null}ngOnInit(){this.loadSystemSummary()}loadSystemSummary(){this.loading=!0,this.error=null,this.http.get("http://localhost:8001/reports/summary").subscribe({next:r=>{this.systemSummary=r,this.loading=!1},error:r=>{console.error("Error loading system summary:",r),this.error="Failed to load reporting system summary.",this.loading=!1}})}generateReport(r){this.generating=!0,this.currentReport=r;let i="";switch(r){case"daily":i="http://localhost:8001/reports/daily";break;case"weekly":i="http://localhost:8001/reports/weekly";break;case"agent-performance":i="http://localhost:8001/reports/agent-performance";break;default:return this.generating=!1,void(this.currentReport=null)}this.http.get(i).subscribe({next:t=>{this.generatedReports.unshift(t),this.generating=!1,this.currentReport=null},error:t=>{console.error(`Error generating ${r} report:`,t),this.generating=!1,this.currentReport=null,this.modalService.error(`Failed to generate ${r} report. Please try again.`)}})}generateExplanation(r){this.explaining=!0,this.currentExplanation=r;const i={explanation_type:r,data:this.getExplanationData(r),tone:"professional"};this.http.post("http://localhost:8001/reports/explain",i).subscribe({next:t=>{this.explanationResult=t,this.explaining=!1,this.currentExplanation=null},error:t=>{console.error(`Error generating ${r} explanation:`,t),this.explaining=!1,this.currentExplanation=null,this.modalService.error(`Failed to generate ${r} explanation. Please try again.`)}})}getExplanationData(r){switch(r){case"trade_decision":return{symbol:"BTC-USD",trade_type:"long",confidence_score:.75,entry_price:69e3,quantity:.001719,agent_signals:["MomentumAgent","RiskAgent"],market_regime:"bull"};case"agent_performance":return{agent_name:"MomentumAgent",win_rate:65.2,total_signals:45,successful_signals:29,failed_signals:16,avg_confidence:.78,best_performing_regime:"bull",worst_performing_regime:"sideways"};case"market_analysis":return{market_regime:"bull",volatility:.15,trend_direction:"upward",regime_duration:5,regime_strength:.8};default:return{}}}downloadReport(r){this.modalService.info(`Downloading ${r.report_type} report (${r.format})`,"Download Report")}viewReport(r){this.modalService.info(`Viewing ${r.report_type} report (${r.format})`,"View Report")}static{this.\u0275fac=function(i){return new(i||n)(e.rXU(p.Qq),e.rXU(g.B))}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["app-reports"]],standalone:!0,features:[e.aNF],decls:84,vars:20,consts:[[1,"min-h-screen"],[1,"max-w-7xl","mx-auto","py-6","sm:px-6","lg:px-8"],[1,"px-4","py-6","sm:px-0"],[1,"text-3xl","font-bold","text-white","mb-2","tracking-tight"],[1,"text-slate-400","mb-8"],[1,"card","mb-8"],[1,"card-header"],[1,"text-xl","font-bold","text-white"],[1,"p-6"],["class","flex flex-col items-center justify-center py-8",4,"ngIf"],["class","bg-red-500/10 border border-red-500/20 rounded-xl p-4 mb-4 flex items-center gap-3",4,"ngIf"],["class","grid grid-cols-1 md:grid-cols-3 gap-6",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4"],[1,"btn","btn-primary","w-full","justify-center","group","relative","overflow-hidden",3,"click","disabled"],[1,"absolute","inset-0","bg-white/20","translate-y-full","group-hover:translate-y-0","transition-transform","duration-300"],[1,"relative"],[1,"btn","btn-secondary","w-full","justify-center",3,"click","disabled"],[1,"btn","bg-purple-600","hover:bg-purple-500","text-white","w-full","justify-center","border","border-purple-500/50","shadow-lg","shadow-purple-900/20",3,"click","disabled"],[1,"btn","bg-amber-600","hover:bg-amber-500","text-white","w-full","justify-center","border","border-amber-500/50","shadow-lg","shadow-amber-900/20",3,"click","disabled"],[1,"p-0"],["class","text-center py-12 px-6",4,"ngIf"],["class","divide-y divide-white/5",4,"ngIf"],[1,"card"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6","mb-6"],[1,"group","bg-slate-800/30","border","border-white/5","rounded-xl","p-5","hover:border-indigo-500/30","hover:bg-slate-800/50","transition-all","cursor-pointer",3,"click"],[1,"flex","items-center","justify-between","mb-3"],[1,"p-2","bg-indigo-500/10","rounded-lg","group-hover:bg-indigo-500/20","transition-colors"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-indigo-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 10V3L4 14h7v7l9-11h-7z"],[1,"text-xs","text-indigo-400","font-bold","uppercase","tracking-wider","group-hover:text-indigo-300"],[1,"font-bold","text-white","mb-2"],[1,"text-xs","text-slate-400","mb-4","leading-relaxed"],[1,"w-full","py-2","bg-indigo-600/10","text-indigo-400","rounded-lg","text-xs","font-bold","uppercase","tracking-wide","group-hover:bg-indigo-600/20","transition-colors",3,"disabled"],[1,"group","bg-slate-800/30","border","border-white/5","rounded-xl","p-5","hover:border-emerald-500/30","hover:bg-slate-800/50","transition-all","cursor-pointer",3,"click"],[1,"p-2","bg-emerald-500/10","rounded-lg","group-hover:bg-emerald-500/20","transition-colors"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-emerald-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],[1,"text-xs","text-emerald-400","font-bold","uppercase","tracking-wider","group-hover:text-emerald-300"],[1,"w-full","py-2","bg-emerald-600/10","text-emerald-400","rounded-lg","text-xs","font-bold","uppercase","tracking-wide","group-hover:bg-emerald-600/20","transition-colors",3,"disabled"],[1,"group","bg-slate-800/30","border","border-white/5","rounded-xl","p-5","hover:border-purple-500/30","hover:bg-slate-800/50","transition-all","cursor-pointer",3,"click"],[1,"p-2","bg-purple-500/10","rounded-lg","group-hover:bg-purple-500/20","transition-colors"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-purple-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"],[1,"text-xs","text-purple-400","font-bold","uppercase","tracking-wider","group-hover:text-purple-300"],[1,"w-full","py-2","bg-purple-600/10","text-purple-400","rounded-lg","text-xs","font-bold","uppercase","tracking-wide","group-hover:bg-purple-600/20","transition-colors",3,"disabled"],["class","mt-6 bg-slate-900/50 border border-indigo-500/20 rounded-xl p-6 relative overflow-hidden animate-fade-in-up",4,"ngIf"],[1,"flex","flex-col","items-center","justify-center","py-8"],[1,"loading-spinner","mb-4"],[1,"text-slate-400","text-sm","animate-pulse"],[1,"bg-red-500/10","border","border-red-500/20","rounded-xl","p-4","mb-4","flex","items-center","gap-3"],["viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-red-400","flex-shrink-0"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"text-sm","text-red-400"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6"],[1,"bg-blue-900/10","p-5","rounded-xl","border","border-blue-500/20","hover:border-blue-500/40","transition-colors"],[1,"flex","items-center","justify-between","mb-2"],[1,"text-xs","font-bold","text-blue-400","uppercase","tracking-wider"],[1,"p-2","bg-blue-500/10","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-blue-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"],[1,"text-3xl","font-bold","text-white"],[1,"bg-emerald-900/10","p-5","rounded-xl","border","border-emerald-500/20","hover:border-emerald-500/40","transition-colors"],[1,"text-xs","font-bold","text-emerald-400","uppercase","tracking-wider"],[1,"p-2","bg-emerald-500/10","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-emerald-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"bg-purple-900/10","p-5","rounded-xl","border","border-purple-500/20","hover:border-purple-500/40","transition-colors"],[1,"text-xs","font-bold","text-purple-400","uppercase","tracking-wider"],[1,"p-2","bg-purple-500/10","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-purple-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"],[1,"text-center","py-12","px-6"],[1,"inline-flex","items-center","justify-center","w-16","h-16","rounded-full","bg-slate-800","mb-4"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-8","h-8","text-slate-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"text-slate-500","text-sm"],[1,"divide-y","divide-white/5"],["class","p-4 hover:bg-white/[0.02] transition-colors flex items-center justify-between",4,"ngFor","ngForOf"],[1,"p-4","hover:bg-white/[0.02]","transition-colors","flex","items-center","justify-between"],[1,"flex","items-start","space-x-4"],[1,"p-2","bg-indigo-500/10","rounded-lg","mt-1"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-indigo-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"text-white","font-bold","tracking-tight"],[1,"flex","items-center","gap-3","mt-1","text-xs","text-slate-500"],[1,"w-1","h-1","bg-slate-600","rounded-full"],[1,"uppercase","font-mono"],[1,"flex","space-x-2"],[1,"btn","btn-secondary","py-1.5","px-3","text-xs",3,"click"],[1,"btn","btn-primary","py-1.5","px-3","text-xs",3,"click"],[1,"mt-6","bg-slate-900/50","border","border-indigo-500/20","rounded-xl","p-6","relative","overflow-hidden","animate-fade-in-up"],[1,"absolute","top-0","right-0","p-4","opacity-10"],["fill","currentColor","viewBox","0 0 24 24",1,"w-32","h-32","text-indigo-500"],["d","M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1 17.93c-3.95-.49-7-3.85-7-7.93 0-.62.08-1.21.21-1.79L9 15v1c0 1.1.9 2 2 2v1.93zm6.9-2.54c-.26-.81-1-1.39-1.9-1.39h-1v-3c0-.55-.45-1-1-1H8v-2h2c.55 0 1-.45 1-1V7h2c1.1 0 2-.9 2-2v-.41c2.93 1.19 5 4.06 5 7.41 0 2.08-.8 3.97-2.1 5.39z"],[1,"text-lg","font-bold","text-white","mb-4","flex","items-center","gap-2","relative","z-10"],[1,"text-indigo-400"],[1,"prose","prose-invert","max-w-none","relative","z-10"],[1,"text-sm","text-slate-300","leading-7","whitespace-pre-line"]],template:function(i,t){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),e.EFF(4,"Reporting System"),e.k0s(),e.j41(5,"p",4),e.EFF(6,"Comprehensive analysis and performance metrics"),e.k0s(),e.j41(7,"div",5)(8,"div",6)(9,"h2",7),e.EFF(10,"System Summary"),e.k0s()(),e.j41(11,"div",8),e.DNE(12,c,4,0,"div",9)(13,u,5,1,"div",10)(14,m,28,2,"div",11),e.k0s()(),e.j41(15,"div",5)(16,"div",6)(17,"h2",7),e.EFF(18,"Generate Reports"),e.k0s()(),e.j41(19,"div",8)(20,"div",12)(21,"button",13),e.bIt("click",function(){return t.generateReport("daily")}),e.nrm(22,"div",14),e.j41(23,"span",15),e.EFF(24),e.k0s()(),e.j41(25,"button",16),e.bIt("click",function(){return t.generateReport("weekly")}),e.EFF(26),e.k0s(),e.j41(27,"button",17),e.bIt("click",function(){return t.generateReport("agent-performance")}),e.EFF(28),e.k0s(),e.j41(29,"button",18),e.bIt("click",function(){return t.generateReport("trade-based")}),e.EFF(30),e.k0s()()()(),e.j41(31,"div",5)(32,"div",6)(33,"h2",7),e.EFF(34,"Recent Reports"),e.k0s()(),e.j41(35,"div",19),e.DNE(36,h,6,0,"div",20)(37,v,2,1,"div",21),e.k0s()(),e.j41(38,"div",22)(39,"div",6)(40,"h2",7),e.EFF(41,"AI Analysis & Insights"),e.k0s()(),e.j41(42,"div",8)(43,"div",23)(44,"div",24),e.bIt("click",function(){return t.generateExplanation("trade_decision")}),e.j41(45,"div",25)(46,"div",26),e.qSk(),e.j41(47,"svg",27),e.nrm(48,"path",28),e.k0s()(),e.joV(),e.j41(49,"span",29),e.EFF(50,"Actionable"),e.k0s()(),e.j41(51,"h3",30),e.EFF(52,"Trade Decision"),e.k0s(),e.j41(53,"p",31),e.EFF(54,"Get AI-powered explanations for specific trading decisions and signal confluence."),e.k0s(),e.j41(55,"button",32),e.EFF(56),e.k0s()(),e.j41(57,"div",33),e.bIt("click",function(){return t.generateExplanation("agent_performance")}),e.j41(58,"div",25)(59,"div",34),e.qSk(),e.j41(60,"svg",35),e.nrm(61,"path",36),e.k0s()(),e.joV(),e.j41(62,"span",37),e.EFF(63,"Strategic"),e.k0s()(),e.j41(64,"h3",30),e.EFF(65,"Agent Performance"),e.k0s(),e.j41(66,"p",31),e.EFF(67,"Deep dive into individual agent performance metrics and regime adaptability."),e.k0s(),e.j41(68,"button",38),e.EFF(69),e.k0s()(),e.j41(70,"div",39),e.bIt("click",function(){return t.generateExplanation("market_analysis")}),e.j41(71,"div",25)(72,"div",40),e.qSk(),e.j41(73,"svg",41),e.nrm(74,"path",42),e.k0s()(),e.joV(),e.j41(75,"span",43),e.EFF(76,"Macro"),e.k0s()(),e.j41(77,"h3",30),e.EFF(78,"Market Regime"),e.k0s(),e.j41(79,"p",31),e.EFF(80,"Identify current market regimes, volatility shifts, and trend strength."),e.k0s(),e.j41(81,"button",44),e.EFF(82),e.k0s()()(),e.DNE(83,f,11,2,"div",45),e.k0s()()()()()),2&i&&(e.R7$(12),e.Y8G("ngIf",t.loading),e.R7$(),e.Y8G("ngIf",t.error),e.R7$(),e.Y8G("ngIf",!t.loading&&!t.error&&t.systemSummary),e.R7$(7),e.Y8G("disabled",t.generating),e.R7$(3),e.JRh(t.generating&&"daily"===t.currentReport?"Generating...":"Daily Report"),e.R7$(),e.Y8G("disabled",t.generating),e.R7$(),e.SpI(" ",t.generating&&"weekly"===t.currentReport?"Generating...":"Weekly Report"," "),e.R7$(),e.Y8G("disabled",t.generating),e.R7$(),e.SpI(" ",t.generating&&"agent-performance"===t.currentReport?"Generating...":"Performance Report"," "),e.R7$(),e.Y8G("disabled",t.generating),e.R7$(),e.SpI(" ",t.generating&&"trade-based"===t.currentReport?"Generating...":"Trade Report"," "),e.R7$(6),e.Y8G("ngIf",0===t.generatedReports.length),e.R7$(),e.Y8G("ngIf",t.generatedReports.length>0),e.R7$(18),e.Y8G("disabled",t.explaining),e.R7$(),e.SpI(" ",t.explaining&&"trade_decision"===t.currentExplanation?"Analyzing...":"Generate Analysis"," "),e.R7$(12),e.Y8G("disabled",t.explaining),e.R7$(),e.SpI(" ",t.explaining&&"agent_performance"===t.currentExplanation?"Analyzing...":"Generate Analysis"," "),e.R7$(12),e.Y8G("disabled",t.explaining),e.R7$(),e.SpI(" ",t.explaining&&"market_analysis"===t.currentExplanation?"Analyzing...":"Generate Analysis"," "),e.R7$(),e.Y8G("ngIf",t.explanationResult))},dependencies:[l.MD,l.Sq,l.bT,l.QX,l.PV,l.vh],encapsulation:2})}}return n})()}}]);